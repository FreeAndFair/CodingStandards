%\newcommand{\comment}[1]{\textcolor{red}{#1}}
\definecolor{keywordcolor}{rgb}{0.5,0,0.33}
\definecolor{identifiercolor}{rgb}{0,0,0.75}
%\definecolor{commentcolor}{rgb}{0.25,0.5,0.37}
\definecolor{commentcolor}{rgb}{0.3,0.3,0.3} 
  
\lstdefinelanguage{jml2} { morekeywords={abrupt_behavior,abrupt_behaviour,accessible,accessible_redundantly,also,assert_redundantly,assignable,assignable_redundantly,assume,assume_redundantly,axiom,behavior,behaviour,breaks,breaks_redundantly,callable,callable_redundantly,captures,captures_redundantly,choose,choose_if,code,code_bigint_math,code_java_math,code_safe_math,constraint,constraint_redundantly,constructor,continues,continues_redundantly,decreases,decreases_redundantly,decreasing,decreasing_redundantly,diverges,diverges_redundantly,duration,duration_redundantly,ensures,ensures_redundantly,example,exceptional_behavior,exceptional_behaviour,exceptional_example,exsures,exsures_redundantly,extract,field,forall,for_example,ghost,helper,hence_by,hence_by_redundantly,implies_that,in,in_redundantly,initializer,initially,instance,invariant,invariant_redundantly,loop_invariant,loop_invariant_redundantly,maintaining,maintaining_redundantly,maps,maps_redundantly,measured_by,measured_by_redundantly,method,model,model_program,modifiable,modifiable_redundantly,modifies,modifies_redundantly,monitored,monitors_for,non_null,normal_behavior,normal_behaviour,normal_example,nowarn,nullable,nullable_by_default,old,or,post,post_redundantly,pre,pre_redundantly,pure,readable,refine,refines,refining,represents,represents_redundantly,requires,requires_redundantly,returns,returns_redundantly,set,signals,signals_only,signals_only_redundantly,signals_redundantly,spec_bigint_math,spec_java_math,spec_protected,spec_public,spec_safe_math,static_initializer,uninitialized,unreachable,weakly,when,when_redundantly,working_space,working_space_redundantly,writable,peer,readonly,rep, 
\\TYPE,\\bigint,\\bigint_math,\\duration,\\elemtype,\\everything,\\exists,\\forall,\\fresh,\\into,\\invariant_for,\\is_initialized,\\java_math,\\lblneg,\\lblpos,\\lockset,\\max,\\min,\\nonnullelements,\\not_assigned,\\not_modified,\\not_specified,\\nothing,\\nowarn,\\nowarn_op,\\num_of,\\old,\\only_accessed,\\only_assigned,\\only_called,\\only_captured,\\pre,\\product,\\reach,\\real,\\result,\\same,\\safe_math,\\space,\\such_that,\\sum,\\typeof,\\type,\\warn_op,\\warn,\\working_space,\\thread_count,\\thread_limit,\\broken,\\semaphore,
TYPE,bigint,bigint_math,duration,elemtype,everything,exists,forall,fresh,into,invariant_for,is_initialized,java_math,lblneg,lblpos,lockset,max,min,nonnullelements,not_assigned,not_modified,not_specified,nothing,nowarn,nowarn_op,num_of,old,only_accessed,only_assigned,only_called,only_captured,pre,product,reach,real,result,same,safe_math,space,such_that,sum,typeof,type,warn_op,warn,working_space,thread_count,thread_limit,broken,semaphore,locks,atomic,commit}
}[keywords,comments,strings]

\lstdefinestyle{jml2}{language={java},alsolanguage={jml2},showstringspaces={false},
  basicstyle={\ttfamily\mdseries},
  keywordstyle={\color{keywordcolor}},
  keywordstyle={[2]\color{black}\bfseries},
  keywordstyle={[3]\color{black}\bfseries},
  identifierstyle={\color{identifiercolor}},
  commentstyle={\color{commentcolor}},
  frame=lines}

\lstdefinestyle{jml2inline}{language={java},alsolanguage={jml2},showstringspaces={false},
  basicstyle={\ttfamily\mdseries},
  keywordstyle={\color{black}},
  keywordstyle={[2]\color{black}\bfseries},
  keywordstyle={[3]\color{black}\bfseries},
  identifierstyle={\color{black}\mdseries},
  commentstyle={\color{black}},
  frame=lines,
  columns=fullflexible,
  breaklines=true}
